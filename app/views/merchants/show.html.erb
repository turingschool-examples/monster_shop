<section class="details-card">
  <div class="container-fluid">
    <div class="row justify-content-center">
        <div class="col-md-4 p-3">
          <div class="card-content" id= "merchant-<%= @merchant.id %>">
            <div class="card-img text-center">
              <img src="<%= @merchant.image %>" alt="">
              <div class="card-header">
                <h1 class="card-title text-center" style="color:black" ><%= @merchant.name%></h1>
              </div>
            </div>
            <div class="card-desc card-footer">
              <p><%= @merchant.address %></p>
              <p><%= @merchant.city %> <%= @merchant.state %> <%= @merchant.zip %></p>
              </div>
                <%= button_to('Items', merchant_items_path(@merchant.id), method: :get, :class => 'btn btn-dark btn-lg btn-block') %>
            </div>
          </div>
      </div>
</section>

<section class='statistics'>
  <% if @merchant.items.empty? %>
    <p>This Merchant has no Items, or Orders!</p>
  <% else%>
    <p>Item Count: <%= @merchant.item_count %></p>
    <p>Average Item Price: <%= number_to_currency(@merchant.average_item_price) %></p>
    <% if @merchant.order_items.empty? %>
      <p>This Merchant has no Orders!</p>
    <% else %>
      <p>Cities Served:</p>
      <ul>
        <% @merchant.distinct_cities.each do |city_state| %>
          <p><%= city_state %></p>
        <% end %>
      </ul>
    <% end %>
  <% end %>
</section>

<%= button_to 'Items', merchant_items_path(@merchant), method: :get %>
